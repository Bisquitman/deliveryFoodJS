(()=>{"use strict";var __webpack_modules__={941:()=>{eval("\n;// CONCATENATED MODULE: ./src/modules/auth.js\nconst auth = () => {\r\n  const buttonAuth = document.querySelector('.button-auth');\r\n  const modalAuth = document.querySelector('.modal-auth');\r\n  const loginForm = document.getElementById('logInForm');\r\n  const inputLogin = document.getElementById('login');\r\n  const inputPassword = document.getElementById('password');\r\n  const buttonOut = document.querySelector('.button-out');\r\n  const userName = document.querySelector('.user-name');\r\n  const buttonCart = document.querySelector('.button-cart');\r\n\r\n  const login = (user) => {\r\n    buttonAuth.style.display = 'none';\r\n    buttonOut.style.display = 'flex';\r\n    userName.style.display = 'flex';\r\n    buttonCart.style.display = 'flex';\r\n    userName.textContent = user.login;\r\n    closeModal();\r\n  };\r\n\r\n  const logout = () => {\r\n    buttonAuth.style.display = 'flex';\r\n    buttonOut.style.display = 'none';\r\n    userName.style.display = 'none';\r\n    userName.textContent = '';\r\n    buttonCart.style.display = 'none';\r\n    localStorage.removeItem('user');\r\n  };\r\n\r\n  buttonAuth.addEventListener('click', () => {\r\n    modalAuth.style.display = 'flex';\r\n  });\r\n\r\n  function closeModal() {\r\n    modalAuth.style.display = 'none';\r\n  }\r\n\r\n  modalAuth.addEventListener('click', (event) => {\r\n    if (event.target.classList.contains('modal-auth') || event.target.classList.contains('close-auth')) {\r\n      closeModal();\r\n    }\r\n  });\r\n\r\n  buttonOut.addEventListener('click', () => {\r\n    logout();\r\n  });\r\n\r\n  loginForm.addEventListener('submit', (event) => {\r\n    event.preventDefault();\r\n    const user = {\r\n      login: inputLogin.value,\r\n      password: inputPassword.value,\r\n    };\r\n    if (user.login.trim() === '') {\r\n      alert('Вы не ввели логин! \\nЭто поле обязательно для заполнения!');\r\n      return;\r\n    }\r\n    localStorage.setItem('user', JSON.stringify(user));\r\n    login(user);\r\n  });\r\n\r\n  if (localStorage.getItem('user')) {\r\n    login(JSON.parse(localStorage.getItem('user')));\r\n  }\r\n};\r\n/* harmony default export */ const modules_auth = (auth);\n;// CONCATENATED MODULE: ./src/modules/menu.js\nconst menu = () => {\r\n  const cardsMenu = document.querySelector('.cards-menu');\r\n  const sectionHeading = document.querySelector('.section-heading');\r\n  const cartArray = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')) : [];\r\n\r\n  const changeTitle = (restaurant) => {\r\n    const restaurantTitle = document.querySelector('.restaurant-title');\r\n    restaurantTitle.textContent = restaurant.name;\r\n    const cardInfo = document.createElement('div');\r\n    cardInfo.classList.add('card-info');\r\n    cardInfo.innerHTML = `\r\n    <div class=\"rating\">\r\n      ${restaurant.stars}\r\n    </div>\r\n    <div class=\"price\">От ${restaurant.price}&nbsp;₽</div>\r\n    <div class=\"category\">${restaurant.kitchen}</div>\r\n  `;\r\n    sectionHeading.append(cardInfo);\r\n  };\r\n\r\n  const addToCart = (cartItem) => {\r\n    const cartArray = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')) : [];\r\n    if (cartArray.some((item) => item.id === cartItem.id)) {\r\n      cartArray.map((item) => {\r\n        if (item.id === cartItem.id) {\r\n          item.count = item.count + 1;\r\n        }\r\n        return item;\r\n      });\r\n    } else {\r\n      cartArray.push(cartItem);\r\n    };\r\n    localStorage.setItem('cart', JSON.stringify(cartArray));\r\n  };\r\n\r\n  const renderItems = (data) => {\r\n    data.forEach(({ id, description, image, name, price }) => {\r\n      const card = document.createElement('div');\r\n      card.classList.add('card');\r\n      card.innerHTML = `\r\n    <img src=\"${image}\" alt=\"${name}\" class=\"card-image\" />\r\n      <div class=\"card-text\">\r\n        <div class=\"card-heading\">\r\n          <h3 class=\"card-title card-title-reg\">${name}</h3>\r\n        </div>\r\n        <div class=\"card-info\">\r\n          <div class=\"ingredients\">${description}\r\n          </div>\r\n        </div>\r\n        <div class=\"card-buttons\">\r\n          <button class=\"button button-primary button-add-cart\">\r\n            <span class=\"button-card-text\">В корзину</span>\r\n            <span class=\"button-cart-svg\"></span>\r\n          </button>\r\n          <strong class=\"card-price-bold\">${price}&nbsp;₽</strong>\r\n        </div>\r\n      </div>\r\n    `;\r\n      card.querySelector('.button-card-text').addEventListener('click', () => {\r\n        const cartItem = {\r\n          name: name,\r\n          price: price,\r\n          id: id,\r\n          count: 1,\r\n        };\r\n        addToCart(cartItem);\r\n      });\r\n      cardsMenu.append(card);\r\n    });\r\n  }\r\n\r\n  if (localStorage.getItem('restaurant')) {\r\n    const restaurant = JSON.parse(localStorage.getItem('restaurant'));\r\n    changeTitle(restaurant);\r\n    fetch(`https://delivery-food-glo-default-rtdb.firebaseio.com/db/${restaurant.products}`)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        renderItems(data);\r\n      });\r\n  } else {\r\n    window.location.href = 'index.html';\r\n  }\r\n};\r\n/* harmony default export */ const modules_menu = (menu);\n;// CONCATENATED MODULE: ./src/modules/cart.js\nconst cart = () => {\r\n  const buttonCart = document.getElementById('cart-button');\r\n  const modalCart = document.querySelector('.modal-cart');\r\n  const modalBody = modalCart.querySelector('.modal-body');\r\n  const buttonSend = modalCart.querySelector('.button-primary');\r\n  const buttonClearCart = modalCart.querySelector('.clear-cart');\r\n\r\n  const resetCart = () => {\r\n    modalBody.innerHTML = '';\r\n    localStorage.removeItem('cart');\r\n    modalCart.classList.remove('is-open');\r\n  }\r\n\r\n  const minusCount = (id) => {\r\n    const cartArray = JSON.parse(localStorage.getItem('cart'));\r\n    console.log('id:', id);\r\n    cartArray.map((item) => {\r\n      if (item.id === id) {\r\n        item.count = item.count > 0 ? item.count - 1 : 0;\r\n      }\r\n      return (item);\r\n    });\r\n    localStorage.setItem('cart', JSON.stringify(cartArray));\r\n    renderItems(cartArray);\r\n  }\r\n  const plusCount = (id) => {\r\n    const cartArray = JSON.parse(localStorage.getItem('cart'));\r\n    cartArray.map((item) => {\r\n      if (item.id === id) {\r\n        item.count++;\r\n      }\r\n      return (item);\r\n    });\r\n    localStorage.setItem('cart', JSON.stringify(cartArray));\r\n    renderItems(cartArray);\r\n  }\r\n\r\n  const renderItems = (data) => {\r\n    modalBody.innerHTML = '';\r\n    data.forEach(({ name, price, id, count }) => {\r\n      const cartRow = document.createElement('div');\r\n      cartRow.classList.add('food-row');\r\n      cartRow.innerHTML = `\r\n      <span class=\"food-name\">${name}</span>\r\n      <strong class=\"food-price\">${price}&nbsp;₽</strong>\r\n      <div class=\"food-counter\">\r\n        <button class=\"counter-button btn-minus\">-</button>\r\n        <span class=\"counter\">${count}</span>\r\n        <button class=\"counter-button btn-plus\">+</button>\r\n      </div>\r\n      `;\r\n      modalBody.append(cartRow);\r\n    });\r\n  }\r\n\r\n  modalBody.addEventListener('click', (event) => {\r\n    event.preventDefault();\r\n    if (event.target.classList.contains('btn-plus')) {\r\n      plusCount(event.target.dataset.index);\r\n    } else if (event.target.classList.contains('btn-minus')) {\r\n      minusCount(event.target.dataset.index);\r\n    }\r\n  });\r\n\r\n  buttonSend.addEventListener('click', () => {\r\n    const cartArray = localStorage.getItem('cart');\r\n    fetch('https://jsonplaceholder.typicode.com/posts', {\r\n      method: 'POST',\r\n      body: cartArray,\r\n    })\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          resetCart();\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  });\r\n\r\n  buttonClearCart.addEventListener('click', () => {\r\n    resetCart();\r\n  });\r\n\r\n  buttonCart.addEventListener('click', () => {\r\n    if (localStorage.getItem('cart')) {\r\n      renderItems(JSON.parse(localStorage.getItem('cart')));\r\n    }\r\n    modalCart.classList.add('is-open');\r\n  });\r\n\r\n  modalCart.addEventListener('click', (event) => {\r\n    if (event.target.classList.contains('modal-cart') || event.target.classList.contains('close')) {\r\n      modalCart.classList.remove('is-open');\r\n    };\r\n  });\r\n\r\n};\r\n/* harmony default export */ const modules_cart = (cart);\n;// CONCATENATED MODULE: ./src/menu.js\n\r\n\r\n\r\n\r\nmodules_auth();\r\nmodules_menu();\r\nmodules_cart();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTQxLmpzIiwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFlLElBQUksRTs7QUNoRW5CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLDRCQUE0QixpQkFBaUIsTUFBTTtBQUNuRCw0QkFBNEIsbUJBQW1CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFDQUFxQztBQUN6RDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsTUFBTSxTQUFTLEtBQUs7QUFDcEM7QUFDQTtBQUNBLGtEQUFrRCxLQUFLO0FBQ3ZEO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsTUFBTSxNQUFNO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRSxvQkFBb0I7QUFDMUY7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxtREFBZSxJQUFJLEU7O0FDbkZuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHdCQUF3QjtBQUM1QztBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsS0FBSztBQUNyQyxtQ0FBbUMsTUFBTSxNQUFNO0FBQy9DO0FBQ0E7QUFDQSxnQ0FBZ0MsTUFBTTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxtREFBZSxJQUFJLEU7O0FDbEdlO0FBQ0E7QUFDQTtBQUNsQztBQUNBLFlBQUk7QUFDSixZQUFJO0FBQ0osWUFBSSIsInNvdXJjZXMiOlsid2VicGFjazovL2RlbGl2ZXJ5Zm9vZGpzLy4vc3JjL21vZHVsZXMvYXV0aC5qcz9lN2IxIiwid2VicGFjazovL2RlbGl2ZXJ5Zm9vZGpzLy4vc3JjL21vZHVsZXMvbWVudS5qcz8yZmFkIiwid2VicGFjazovL2RlbGl2ZXJ5Zm9vZGpzLy4vc3JjL21vZHVsZXMvY2FydC5qcz9hYzBlIiwid2VicGFjazovL2RlbGl2ZXJ5Zm9vZGpzLy4vc3JjL21lbnUuanM/YWIwOCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhdXRoID0gKCkgPT4ge1xyXG4gIGNvbnN0IGJ1dHRvbkF1dGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLWF1dGgnKTtcclxuICBjb25zdCBtb2RhbEF1dGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtYXV0aCcpO1xyXG4gIGNvbnN0IGxvZ2luRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dJbkZvcm0nKTtcclxuICBjb25zdCBpbnB1dExvZ2luID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luJyk7XHJcbiAgY29uc3QgaW5wdXRQYXNzd29yZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXNzd29yZCcpO1xyXG4gIGNvbnN0IGJ1dHRvbk91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tb3V0Jyk7XHJcbiAgY29uc3QgdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXNlci1uYW1lJyk7XHJcbiAgY29uc3QgYnV0dG9uQ2FydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tY2FydCcpO1xyXG5cclxuICBjb25zdCBsb2dpbiA9ICh1c2VyKSA9PiB7XHJcbiAgICBidXR0b25BdXRoLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICBidXR0b25PdXQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgIHVzZXJOYW1lLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcbiAgICBidXR0b25DYXJ0LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcbiAgICB1c2VyTmFtZS50ZXh0Q29udGVudCA9IHVzZXIubG9naW47XHJcbiAgICBjbG9zZU1vZGFsKCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgbG9nb3V0ID0gKCkgPT4ge1xyXG4gICAgYnV0dG9uQXV0aC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xyXG4gICAgYnV0dG9uT3V0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB1c2VyTmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgdXNlck5hbWUudGV4dENvbnRlbnQgPSAnJztcclxuICAgIGJ1dHRvbkNhcnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyJyk7XHJcbiAgfTtcclxuXHJcbiAgYnV0dG9uQXV0aC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIG1vZGFsQXV0aC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xyXG4gIH0pO1xyXG5cclxuICBmdW5jdGlvbiBjbG9zZU1vZGFsKCkge1xyXG4gICAgbW9kYWxBdXRoLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgfVxyXG5cclxuICBtb2RhbEF1dGguYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RhbC1hdXRoJykgfHwgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2xvc2UtYXV0aCcpKSB7XHJcbiAgICAgIGNsb3NlTW9kYWwoKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgYnV0dG9uT3V0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgbG9nb3V0KCk7XHJcbiAgfSk7XHJcblxyXG4gIGxvZ2luRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQpID0+IHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb25zdCB1c2VyID0ge1xyXG4gICAgICBsb2dpbjogaW5wdXRMb2dpbi52YWx1ZSxcclxuICAgICAgcGFzc3dvcmQ6IGlucHV0UGFzc3dvcmQudmFsdWUsXHJcbiAgICB9O1xyXG4gICAgaWYgKHVzZXIubG9naW4udHJpbSgpID09PSAnJykge1xyXG4gICAgICBhbGVydCgn0JLRiyDQvdC1INCy0LLQtdC70Lgg0LvQvtCz0LjQvSEgXFxu0K3RgtC+INC/0L7Qu9C1INC+0LHRj9C30LDRgtC10LvRjNC90L4g0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPIScpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIEpTT04uc3RyaW5naWZ5KHVzZXIpKTtcclxuICAgIGxvZ2luKHVzZXIpO1xyXG4gIH0pO1xyXG5cclxuICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKSkge1xyXG4gICAgbG9naW4oSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKSk7XHJcbiAgfVxyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBhdXRoOyIsImNvbnN0IG1lbnUgPSAoKSA9PiB7XHJcbiAgY29uc3QgY2FyZHNNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzLW1lbnUnKTtcclxuICBjb25zdCBzZWN0aW9uSGVhZGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLWhlYWRpbmcnKTtcclxuICBjb25zdCBjYXJ0QXJyYXkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpID8gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpKSA6IFtdO1xyXG5cclxuICBjb25zdCBjaGFuZ2VUaXRsZSA9IChyZXN0YXVyYW50KSA9PiB7XHJcbiAgICBjb25zdCByZXN0YXVyYW50VGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVzdGF1cmFudC10aXRsZScpO1xyXG4gICAgcmVzdGF1cmFudFRpdGxlLnRleHRDb250ZW50ID0gcmVzdGF1cmFudC5uYW1lO1xyXG4gICAgY29uc3QgY2FyZEluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNhcmRJbmZvLmNsYXNzTGlzdC5hZGQoJ2NhcmQtaW5mbycpO1xyXG4gICAgY2FyZEluZm8uaW5uZXJIVE1MID0gYFxyXG4gICAgPGRpdiBjbGFzcz1cInJhdGluZ1wiPlxyXG4gICAgICAke3Jlc3RhdXJhbnQuc3RhcnN9XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJwcmljZVwiPtCe0YIgJHtyZXN0YXVyYW50LnByaWNlfSZuYnNwO+KCvTwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cImNhdGVnb3J5XCI+JHtyZXN0YXVyYW50LmtpdGNoZW59PC9kaXY+XHJcbiAgYDtcclxuICAgIHNlY3Rpb25IZWFkaW5nLmFwcGVuZChjYXJkSW5mbyk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYWRkVG9DYXJ0ID0gKGNhcnRJdGVtKSA9PiB7XHJcbiAgICBjb25zdCBjYXJ0QXJyYXkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpID8gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpKSA6IFtdO1xyXG4gICAgaWYgKGNhcnRBcnJheS5zb21lKChpdGVtKSA9PiBpdGVtLmlkID09PSBjYXJ0SXRlbS5pZCkpIHtcclxuICAgICAgY2FydEFycmF5Lm1hcCgoaXRlbSkgPT4ge1xyXG4gICAgICAgIGlmIChpdGVtLmlkID09PSBjYXJ0SXRlbS5pZCkge1xyXG4gICAgICAgICAgaXRlbS5jb3VudCA9IGl0ZW0uY291bnQgKyAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjYXJ0QXJyYXkucHVzaChjYXJ0SXRlbSk7XHJcbiAgICB9O1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NhcnQnLCBKU09OLnN0cmluZ2lmeShjYXJ0QXJyYXkpKTtcclxuICB9O1xyXG5cclxuICBjb25zdCByZW5kZXJJdGVtcyA9IChkYXRhKSA9PiB7XHJcbiAgICBkYXRhLmZvckVhY2goKHsgaWQsIGRlc2NyaXB0aW9uLCBpbWFnZSwgbmFtZSwgcHJpY2UgfSkgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnY2FyZCcpO1xyXG4gICAgICBjYXJkLmlubmVySFRNTCA9IGBcclxuICAgIDxpbWcgc3JjPVwiJHtpbWFnZX1cIiBhbHQ9XCIke25hbWV9XCIgY2xhc3M9XCJjYXJkLWltYWdlXCIgLz5cclxuICAgICAgPGRpdiBjbGFzcz1cImNhcmQtdGV4dFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWhlYWRpbmdcIj5cclxuICAgICAgICAgIDxoMyBjbGFzcz1cImNhcmQtdGl0bGUgY2FyZC10aXRsZS1yZWdcIj4ke25hbWV9PC9oMz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1pbmZvXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5ncmVkaWVudHNcIj4ke2Rlc2NyaXB0aW9ufVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtYnV0dG9uc1wiPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ1dHRvbiBidXR0b24tcHJpbWFyeSBidXR0b24tYWRkLWNhcnRcIj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJidXR0b24tY2FyZC10ZXh0XCI+0JIg0LrQvtGA0LfQuNC90YM8L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYnV0dG9uLWNhcnQtc3ZnXCI+PC9zcGFuPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8c3Ryb25nIGNsYXNzPVwiY2FyZC1wcmljZS1ib2xkXCI+JHtwcmljZX0mbmJzcDvigr08L3N0cm9uZz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICBgO1xyXG4gICAgICBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tY2FyZC10ZXh0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2FydEl0ZW0gPSB7XHJcbiAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgcHJpY2U6IHByaWNlLFxyXG4gICAgICAgICAgaWQ6IGlkLFxyXG4gICAgICAgICAgY291bnQ6IDEsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBhZGRUb0NhcnQoY2FydEl0ZW0pO1xyXG4gICAgICB9KTtcclxuICAgICAgY2FyZHNNZW51LmFwcGVuZChjYXJkKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyZXN0YXVyYW50JykpIHtcclxuICAgIGNvbnN0IHJlc3RhdXJhbnQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyZXN0YXVyYW50JykpO1xyXG4gICAgY2hhbmdlVGl0bGUocmVzdGF1cmFudCk7XHJcbiAgICBmZXRjaChgaHR0cHM6Ly9kZWxpdmVyeS1mb29kLWdsby1kZWZhdWx0LXJ0ZGIuZmlyZWJhc2Vpby5jb20vZGIvJHtyZXN0YXVyYW50LnByb2R1Y3RzfWApXHJcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIHJlbmRlckl0ZW1zKGRhdGEpO1xyXG4gICAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnaW5kZXguaHRtbCc7XHJcbiAgfVxyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBtZW51OyIsImNvbnN0IGNhcnQgPSAoKSA9PiB7XHJcbiAgY29uc3QgYnV0dG9uQ2FydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXJ0LWJ1dHRvbicpO1xyXG4gIGNvbnN0IG1vZGFsQ2FydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1jYXJ0Jyk7XHJcbiAgY29uc3QgbW9kYWxCb2R5ID0gbW9kYWxDYXJ0LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1ib2R5Jyk7XHJcbiAgY29uc3QgYnV0dG9uU2VuZCA9IG1vZGFsQ2FydC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLXByaW1hcnknKTtcclxuICBjb25zdCBidXR0b25DbGVhckNhcnQgPSBtb2RhbENhcnQucXVlcnlTZWxlY3RvcignLmNsZWFyLWNhcnQnKTtcclxuXHJcbiAgY29uc3QgcmVzZXRDYXJ0ID0gKCkgPT4ge1xyXG4gICAgbW9kYWxCb2R5LmlubmVySFRNTCA9ICcnO1xyXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2NhcnQnKTtcclxuICAgIG1vZGFsQ2FydC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJyk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBtaW51c0NvdW50ID0gKGlkKSA9PiB7XHJcbiAgICBjb25zdCBjYXJ0QXJyYXkgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXJ0JykpO1xyXG4gICAgY29uc29sZS5sb2coJ2lkOicsIGlkKTtcclxuICAgIGNhcnRBcnJheS5tYXAoKGl0ZW0pID0+IHtcclxuICAgICAgaWYgKGl0ZW0uaWQgPT09IGlkKSB7XHJcbiAgICAgICAgaXRlbS5jb3VudCA9IGl0ZW0uY291bnQgPiAwID8gaXRlbS5jb3VudCAtIDEgOiAwO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiAoaXRlbSk7XHJcbiAgICB9KTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjYXJ0JywgSlNPTi5zdHJpbmdpZnkoY2FydEFycmF5KSk7XHJcbiAgICByZW5kZXJJdGVtcyhjYXJ0QXJyYXkpO1xyXG4gIH1cclxuICBjb25zdCBwbHVzQ291bnQgPSAoaWQpID0+IHtcclxuICAgIGNvbnN0IGNhcnRBcnJheSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhcnQnKSk7XHJcbiAgICBjYXJ0QXJyYXkubWFwKChpdGVtKSA9PiB7XHJcbiAgICAgIGlmIChpdGVtLmlkID09PSBpZCkge1xyXG4gICAgICAgIGl0ZW0uY291bnQrKztcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2FydCcsIEpTT04uc3RyaW5naWZ5KGNhcnRBcnJheSkpO1xyXG4gICAgcmVuZGVySXRlbXMoY2FydEFycmF5KTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHJlbmRlckl0ZW1zID0gKGRhdGEpID0+IHtcclxuICAgIG1vZGFsQm9keS5pbm5lckhUTUwgPSAnJztcclxuICAgIGRhdGEuZm9yRWFjaCgoeyBuYW1lLCBwcmljZSwgaWQsIGNvdW50IH0pID0+IHtcclxuICAgICAgY29uc3QgY2FydFJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBjYXJ0Um93LmNsYXNzTGlzdC5hZGQoJ2Zvb2Qtcm93Jyk7XHJcbiAgICAgIGNhcnRSb3cuaW5uZXJIVE1MID0gYFxyXG4gICAgICA8c3BhbiBjbGFzcz1cImZvb2QtbmFtZVwiPiR7bmFtZX08L3NwYW4+XHJcbiAgICAgIDxzdHJvbmcgY2xhc3M9XCJmb29kLXByaWNlXCI+JHtwcmljZX0mbmJzcDvigr08L3N0cm9uZz5cclxuICAgICAgPGRpdiBjbGFzcz1cImZvb2QtY291bnRlclwiPlxyXG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJjb3VudGVyLWJ1dHRvbiBidG4tbWludXNcIj4tPC9idXR0b24+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJjb3VudGVyXCI+JHtjb3VudH08L3NwYW4+XHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNvdW50ZXItYnV0dG9uIGJ0bi1wbHVzXCI+KzwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgYDtcclxuICAgICAgbW9kYWxCb2R5LmFwcGVuZChjYXJ0Um93KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgbW9kYWxCb2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2J0bi1wbHVzJykpIHtcclxuICAgICAgcGx1c0NvdW50KGV2ZW50LnRhcmdldC5kYXRhc2V0LmluZGV4KTtcclxuICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYnRuLW1pbnVzJykpIHtcclxuICAgICAgbWludXNDb3VudChldmVudC50YXJnZXQuZGF0YXNldC5pbmRleCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGJ1dHRvblNlbmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBjb25zdCBjYXJ0QXJyYXkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpO1xyXG4gICAgZmV0Y2goJ2h0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9wb3N0cycsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGJvZHk6IGNhcnRBcnJheSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgcmVzZXRDYXJ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBidXR0b25DbGVhckNhcnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICByZXNldENhcnQoKTtcclxuICB9KTtcclxuXHJcbiAgYnV0dG9uQ2FydC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpKSB7XHJcbiAgICAgIHJlbmRlckl0ZW1zKEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhcnQnKSkpO1xyXG4gICAgfVxyXG4gICAgbW9kYWxDYXJ0LmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcclxuICB9KTtcclxuXHJcbiAgbW9kYWxDYXJ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbW9kYWwtY2FydCcpIHx8IGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlJykpIHtcclxuICAgICAgbW9kYWxDYXJ0LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcclxuICAgIH07XHJcbiAgfSk7XHJcblxyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBjYXJ0OyIsImltcG9ydCBhdXRoIGZyb20gXCIuL21vZHVsZXMvYXV0aFwiO1xyXG5pbXBvcnQgbWVudSBmcm9tIFwiLi9tb2R1bGVzL21lbnVcIjtcclxuaW1wb3J0IGNhcnQgZnJvbSBcIi4vbW9kdWxlcy9jYXJ0XCI7XHJcblxyXG5hdXRoKCk7XHJcbm1lbnUoKTtcclxuY2FydCgpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///941\n")}},__webpack_exports__={};__webpack_modules__[941]()})();